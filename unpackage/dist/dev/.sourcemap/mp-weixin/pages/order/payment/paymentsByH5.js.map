{"version":3,"sources":["webpack:///D:/pro/techang/uniapp-mb/pages/order/payment/paymentsByH5.vue?0385","webpack:///D:/pro/techang/uniapp-mb/pages/order/payment/paymentsByH5.vue?189c","webpack:///D:/pro/techang/uniapp-mb/pages/order/payment/paymentsByH5.vue?48f5","webpack:///D:/pro/techang/uniapp-mb/pages/order/payment/paymentsByH5.vue?e491","webpack:///D:/pro/techang/uniapp-mb/pages/order/payment/paymentsByH5.vue","webpack:///D:/pro/techang/uniapp-mb/pages/order/payment/paymentsByH5.vue?3e12","webpack:///D:/pro/techang/uniapp-mb/pages/order/payment/paymentsByH5.vue?333b"],"names":["props","orderId","type","String","default","recharge","Number","uid","data","payments","openid","mounted","getPayments","methods","params","Api","apiCall","paymentlist","orderInfo","formatPayments","console","log","$common","isWeiXinBrowser","filter","item","code","is_online","forEach","$set","handlerWexinAppletPay","oid","_this","uni","login","success","e","weixinPay","result","requestPayment","provider","timeStamp","nonceStr","package","signType","paySign","r","wxOrderQuery","orderSn","res","$api","msg","redirectTo","url","fail","err","JSON","stringify","aliApp","aliPay","aliOrderQuery","balancepay","params1","balancePay","data1","toPayHandler","modelShow"],"mappings":"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","file":"pages/order/payment/paymentsByH5.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./paymentsByH5.vue?vue&type=template&id=cadbd782&\"\nvar renderjs\nimport script from \"./paymentsByH5.vue?vue&type=script&lang=js&\"\nexport * from \"./paymentsByH5.vue?vue&type=script&lang=js&\"\nimport style0 from \"./paymentsByH5.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('cadbd782')) {\n      api.createRecord('cadbd782', component.options)\n    } else {\n      api.reload('cadbd782', component.options)\n    }\n    module.hot.accept(\"./paymentsByH5.vue?vue&type=template&id=cadbd782&\", function () {\n      api.rerender('cadbd782', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pro/techang/uniapp-mb/pages/order/payment/paymentsByH5.vue\"\nexport default component.exports","export * from \"-!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./paymentsByH5.vue?vue&type=template&id=cadbd782&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./paymentsByH5.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./paymentsByH5.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport { baseUrl } from '@/config/config.js';\r\nimport Api from '@/common/api';\r\nexport default {\r\n\tprops: {\r\n\t\t// 如果是商品订单此参数必须\r\n\t\torderId: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault() {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 如果是充值订单此参数必须\r\n\t\trecharge: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault() {\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 用户id\r\n\t\tuid: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault() {\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 订单类型\r\n\t\ttype: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault() {\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tpayments: [],\r\n\t\t\topenid: ''\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.getPayments();\r\n\t},\r\n\tmethods: {\r\n\t\t// 获取可用支付方式列表\r\n\t\tasync getPayments() {\r\n\t\t\tlet params = {};\r\n\t\t\tthis.orderInfo = await Api.apiCall('get', Api.payments.paymentlist, params);\r\n\t\t\tthis.payments = this.formatPayments(this.orderInfo.data);\r\n\t\t},\r\n\t\t// 支付方式处理\r\n\t\tformatPayments(payments) {\r\n\t\t\tconsole.log(payments);\r\n\t\t\t// h5支付并且是在微信浏览器内 过滤支付宝支付\r\n\t\t\tif (this.$common.isWeiXinBrowser()) {\r\n\t\t\t\tpayments = payments.filter(item => item.code !== 'alipay');\r\n\t\t\t}\r\n\r\n\r\n\r\n\r\n\t\t\t// 如果是充值订单 过滤余额支付 过滤非线上支付方式\r\n\t\t\tif (this.type === 2) {\r\n\t\t\t\tpayments = payments.filter(item => item.code !== 'balancepay' || item.is_online === 1);\r\n\t\t\t}\r\n\r\n\t\t\t// 设置logo图片\r\n\t\t\tpayments.forEach(item => {\r\n\t\t\t\tthis.$set(item, 'icon', '/static/image/' + item.code + '.png');\r\n\t\t\t});\r\n\t\t\treturn payments;\r\n\t\t},\r\n\t\t//微信小程序支付\r\n\r\n\t\thandlerWexinAppletPay(params) {\r\n\t\t\tlet oid = this.orderId;\r\n\t\t\tlet _this = this;\r\n\t\t\tparams['payKey'] = 'applet';\r\n\t\t\tuni.login({\r\n\t\t\t\tsuccess: async e => {\r\n\t\t\t\t\tconsole.log(e.code);\r\n\t\t\t\t\tparams['weixinCode'] = e.code; //此code为获取openId\r\n\t\t\t\t\tlet result = await Api.apiCall('POST', Api.payments.weixinPay, params);\r\n\t\t\t\t\tif (result.code == 0) {\r\n\t\t\t\t\t\tlet data = result.data;\r\n\t\t\t\t\t\tconsole.log(`data`, data);\r\n\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\tprovider: 'wxpay',\r\n\t\t\t\t\t\t\ttimeStamp: data.timeStamp,\r\n\t\t\t\t\t\t\tnonceStr: data.nonceStr,\r\n\t\t\t\t\t\t\tpackage: data.package,\r\n\t\t\t\t\t\t\tsignType: data.signType,\r\n\t\t\t\t\t\t\tpaySign: data.paySign,\r\n\t\t\t\t\t\t\tsuccess: async function(r) {\r\n\t\t\t\t\t\t\t\tlet res = await Api.apiCall('GET', Api.payments.wxOrderQuery, { orderSn: oid });\r\n\t\t\t\t\t\t\t\tif (res.code != 0) {\r\n\t\t\t\t\t\t\t\t\t_this.$api.msg(res.msg);\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\turl: '/pages/order/payment/result?order=' + oid\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\t\t\tconsole.log('fail:' + JSON.stringify(err));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t//微信h5支付\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t//微信app支付\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t//阿里app支付\r\n\t\tasync aliApp(params) {\r\n\t\t\tlet res = await Api.apiCall('POST', Api.payments.aliPay, params);\r\n\t\t\tif (res.code != 0) {\r\n\t\t\t\tthis.$api.msg(res.msg);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet data = res.data;\r\n\t\t\tuni.requestPayment({\r\n\t\t\t\tprovider: 'alipay',\r\n\t\t\t\torderInfo: data,\r\n\t\t\t\tsuccess: async function(r) {\r\n\t\t\t\t\tlet res = await Api.apiCall('GET', Api.payments.aliOrderQuery, { orderSn: oid });\r\n\t\t\t\t\tif (res.code != 0) {\r\n\t\t\t\t\t\t_this.$api.msg(res.msg);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\turl: '/pages/order/payment/result?order=' + oid\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tfail: function(err) {\r\n\t\t\t\t\tconsole.log('fail:' + JSON.stringify(err));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t//余额支付\r\n\t\tasync balancepay(code) {\r\n\t\t\t/**\r\n\t\t\t *  用户余额支付\r\n\t\t\t *\r\n\t\t\t */\r\n\t\t\tif ((this.type == 5 || this.type == 6) && this.recharge) {\r\n\t\t\t\tdata['params'] = {\r\n\t\t\t\t\torderId: this.orderId\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tlet params1 = {\r\n\t\t\t\torderId: this.orderId,\r\n\t\t\t\tcode: code\r\n\t\t\t};\r\n\t\t\tlet data1 = await Api.apiCall('post', Api.payments.balancePay, params1);\r\n\t\t\tif (data1.code == 0) {\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl: '/pages/order/payment/result?order=' + JSON.stringify(data1)\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.$api.msg(data1.msg);\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 用户点击支付方式处理\r\n\t\tasync toPayHandler(item) {\r\n\t\t\tlet code = item.code;\r\n\t\t\tlet params = {\r\n\t\t\t\torderId: this.orderId,\r\n\t\t\t\tcode: item.code,\r\n\t\t\t\ttype:this.type\r\n\t\t\t};\r\n\t\t\tswitch (code) {\r\n\t\t\t\tcase 'alipay':\r\n\t\t\t\t\tthis.aliApp(params);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'wechatpay':\r\n\t\t\t\t\t//微信小程序支付\r\n\r\n\t\t\t\t\tthis.handlerWexinAppletPay(params);\r\n\r\n\t\t\t\t\t//微信h5支付\r\n\r\n\r\n\r\n\t\t\t\t\t//微信app支付\r\n\r\n\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'balancepay':\r\n\t\t\t\t\tthis.balancepay(code);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'offline':\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * 线下支付\r\n\t\t\t\t\t */\r\n\t\t\t\t\tthis.$common.modelShow('线下支付说明', '请联系客服进行线下支付qq:951449465', () => {}, false, '取消', '确定');\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n","import mod from \"-!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./paymentsByH5.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./paymentsByH5.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}