{"version":3,"sources":["webpack:///D:/pro/techang/uniapp-mb/components/payments/paymentsByWx.vue?9e06","webpack:///D:/pro/techang/uniapp-mb/components/payments/paymentsByWx.vue?66ae","webpack:///D:/pro/techang/uniapp-mb/components/payments/paymentsByWx.vue?2846","webpack:///D:/pro/techang/uniapp-mb/components/payments/paymentsByWx.vue?5603","webpack:///D:/pro/techang/uniapp-mb/components/payments/paymentsByWx.vue","webpack:///D:/pro/techang/uniapp-mb/components/payments/paymentsByWx.vue?43f8","webpack:///D:/pro/techang/uniapp-mb/components/payments/paymentsByWx.vue?43ac"],"names":["props","orderId","type","String","default","recharge","Number","uid","data","payments","openid","mounted","getPayments","methods","params","orderInfo","formatPayments","console","log","$common","isWeiXinBrowser","filter","item","code","is_online","forEach","$set","checkWXJSBridge","that","interval","setInterval","window","WeixinJSBridge","clearTimeout","onBridgeReady","_this","invoke","appId","appid","timeStamp","nonceStr","package","signType","paySign","res","err_msg","successToShow","errorToShow","setTimeout","redirectTo","payment_id","toPayHandler","payment_code","payment_type","isWeiXin","transitUrl","baseUrl","trade_type","url","money","Api","apiCall","order","webPay","location","href","msg","return_url","wapPay","params1","balancePay","data1","uni","JSON","stringify","$api","modelShow"],"mappings":"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","file":"components/payments/paymentsByWx.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./paymentsByWx.vue?vue&type=template&id=d8e225f2&\"\nvar renderjs\nimport script from \"./paymentsByWx.vue?vue&type=script&lang=js&\"\nexport * from \"./paymentsByWx.vue?vue&type=script&lang=js&\"\nimport style0 from \"./paymentsByWx.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('d8e225f2')) {\n      api.createRecord('d8e225f2', component.options)\n    } else {\n      api.reload('d8e225f2', component.options)\n    }\n    module.hot.accept(\"./paymentsByWx.vue?vue&type=template&id=d8e225f2&\", function () {\n      api.rerender('d8e225f2', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pro/techang/uniapp-mb/components/payments/paymentsByWx.vue\"\nexport default component.exports","export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./paymentsByWx.vue?vue&type=template&id=d8e225f2&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./paymentsByWx.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./paymentsByWx.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport {\n\t\tbaseUrl\n\t} from '@/config/config.js'\n\timport Api from '@/common/api';\n\texport default {\n\t\tprops: {\n\t\t\t// 如果是商品订单此参数必须\n\t\t\torderId: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault () {\n\t\t\t\t\treturn ''\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 如果是充值订单此参数必须\n\t\t\trecharge: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault () {\n\t\t\t\t\treturn 0\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 用户id\n\t\t\tuid: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault () {\n\t\t\t\t\treturn 0\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 订单类型\n\t\t\ttype: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault () {\n\t\t\t\t\treturn 1\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tpayments: [],\n\t\t\t\topenid: ''\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\tthis.getPayments()\n\t\t},\n\t\tmethods: {\n\t\t\t// 获取可用支付方式列表\n\t\t\tasync\tgetPayments() {\n\t\t\t\tlet params = {};\n\t\t\t\tthis.orderInfo = [\n    {\n      \"id\": 1,\n      \"code\": \"wechatpay\",\n      \"name\": \"微信支付\",\n      \"isOnline\": 1,\n      \"params\": \"{\\\"appid\\\":\\\"\\\",\\\"mch_id\\\":\\\"\\\",\\\"key\\\":\\\"\\\",\\\"sslcert\\\":\\\"\\\",\\\"sslkey\\\":\\\"\\\"}\",\n      \"sort\": 100,\n      \"memo\": \"点击去微信支付\",\n      \"status\": 1\n    },\n    {\n      \"id\": 2,\n      \"code\": \"alipay\",\n      \"name\": \"支付宝支付\",\n      \"isOnline\": 1,\n      \"params\": \"{\\\"appid\\\":\\\"\\\",\\\"rsa_private_key\\\":\\\"\\\",\\\"alipay_public_key\\\":\\\"\\\"}\",\n      \"sort\": 100,\n      \"memo\": \"点击去支付宝支付\",\n      \"status\": 1\n    },\n    {\n      \"id\": 3,\n      \"code\": \"offline\",\n      \"name\": \"线下支付\",\n      \"isOnline\": 2,\n      \"params\": \"\",\n      \"sort\": 100,\n      \"memo\": \"联系客服进行线下付款\",\n      \"status\": 1\n    },\n    {\n      \"id\": 4,\n      \"code\": \"balancepay\",\n      \"name\": \"余额支付\",\n      \"isOnline\": 1,\n      \"params\": \"\",\n      \"sort\": 100,\n      \"memo\": \"账户余额支付\",\n      \"status\": 1\n    }\n  ];\n\t\t\t\tthis.payments = this.formatPayments(this.orderInfo)\n\t\t\t},\n\t\t\t// 支付方式处理\n\t\t\tformatPayments(payments) {\n\t\t\t\tconsole.log(payments)\n\t\t\t\t// h5支付并且是在微信浏览器内 过滤支付宝支付\n\t\t\t\tif (this.$common.isWeiXinBrowser()) {\n\t\t\t\t\tpayments = payments.filter(item => item.code !== 'alipay')\n\t\t\t\t}\n\n\t\t\t\t// 如果是充值订单 过滤余额支付 过滤非线上支付方式\n\t\t\t\tif (this.type === 2) {\n\t\t\t\t\tpayments = payments.filter(\n\t\t\t\t\t\titem => item.code !== 'balancepay' || item.is_online === 1\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\t// 设置logo图片\n\t\t\t\tpayments.forEach(item => {\n\t\t\t\t\tthis.$set(item, 'icon', '/static/image/' + item.code + '.png')\n\t\t\t\t})\n\t\t\t\tconsole.log(payments)\n\t\t\t\treturn payments\n\t\t\t},\n\t\t\tcheckWXJSBridge(data) {\n\t\t\t\tlet that = this\n\t\t\t\tlet interval = setInterval(() => {\n\t\t\t\t\tif (typeof window.WeixinJSBridge != 'undefined') {\n\t\t\t\t\t\tclearTimeout(interval)\n\t\t\t\t\t\tthat.onBridgeReady(data)\n\t\t\t\t\t}\n\t\t\t\t}, 200)\n\t\t\t},\n\t\t\tonBridgeReady(data) {\n\t\t\t\tvar _this = this\n\t\t\t\twindow.WeixinJSBridge.invoke(\n\t\t\t\t\t'getBrandWCPayRequest', {\n\t\t\t\t\t\tappId: data.appid, // 公众号名称，由商户传入\n\t\t\t\t\t\ttimeStamp: data.timeStamp, // 时间戳，自1970年以来的秒数\n\t\t\t\t\t\tnonceStr: data.nonceStr, // 随机串\n\t\t\t\t\t\tpackage: data.package,\n\t\t\t\t\t\tsignType: data.signType, // 微信签名方式：\n\t\t\t\t\t\tpaySign: data.paySign // 微信签名\n\t\t\t\t\t},\n\t\t\t\t\tfunction(res) {\n\t\t\t\t\t\tif (res.err_msg === 'get_brand_wcpay_request:ok') {\n\t\t\t\t\t\t\t_this.$common.successToShow('支付成功')\n\t\t\t\t\t\t} else if (res.err_msg === 'get_brand_wcpay_request:cancel') {\n\t\t\t\t\t\t\t_this.$common.errorToShow('取消支付')\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this.$common.errorToShow('支付失败')\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t_this.$common.redirectTo(\n\t\t\t\t\t\t\t\t'/pages/order/payment/result?id=' + data.payment_id\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}, 1000)\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t},\n\t\t\t// 用户点击支付方式处理\n\t\t\tasync toPayHandler(item) {\n\t\t\t\tlet code=item.code;\n\t\t\t\tlet params = {'orderId':this.orderId};\n\t\t\t\tlet data = {\n\t\t\t\t\tpayment_code: code,\n\t\t\t\t\tpayment_type: this.type\n\t\t\t\t}\n\t\t\t\tdata['orderId'] = (this.type == 1 || this.type == 5 || this.type == 6) ? this.orderId : this.uid\n\t\t\t\tswitch (code) {\n\t\t\t\tcase 'wechatpay':\n\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * 微信支付有两种\n\t\t\t\t\t\t * 判断是否在微信浏览器\n\t\t\t\t\t\t * \t微信jsapi支付\n\t\t\t\t\t\t */\n\t\t\t\t\t\tlet isWeiXin = this.$common.isWeiXinBrowser()\n\t\t\t\t\t\n\t\t\t\t\t\tif (isWeiXin) {\n\t\t\t\t\t\t\tvar transitUrl =\n\t\t\t\t\t\t\t\tbaseUrl +\n\t\t\t\t\t\t\t\t'wap/#/pages/order/payment/auth?order_id=' +\n\t\t\t\t\t\t\t\tthis.orderId +\n\t\t\t\t\t\t\t\t'&type=' +\n\t\t\t\t\t\t\t\tthis.type;\n\n\t\t\t\t\t\t\tif (this.type == 1 && this.orderId) {\n\t\t\t\t\t\t\t\t// 微信jsapi支付\n\t\t\t\t\t\t\t\t// if (this.openid) {\n\t\t\t\t\t\t\t\t//   data['params'] = {\n\t\t\t\t\t\t\t\t//     trade_type: 'JSAPI_OFFICIAL',\n\t\t\t\t\t\t\t\t//     openid: this.openid\n\t\t\t\t\t\t\t\t//   }\n\t\t\t\t\t\t\t\t// } else {\n\t\t\t\t\t\t\t\t//   data['params'] = {\n\t\t\t\t\t\t\t\t//     trade_type: 'JSAPI_OFFICIAL',\n\t\t\t\t\t\t\t\t//     url: window.location.href\n\t\t\t\t\t\t\t\t//   }\n\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t\tdata['params'] = {\n\t\t\t\t\t\t\t\t\ttrade_type: 'JSAPI_OFFICIAL',\n\t\t\t\t\t\t\t\t\turl: transitUrl\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (this.type == 2 && this.recharge) {\n\t\t\t\t\t\t\t\tdata['params'] = {\n\t\t\t\t\t\t\t\t\ttrade_type: 'JSAPI_OFFICIAL',\n\t\t\t\t\t\t\t\t\tmoney: this.recharge,\n\t\t\t\t\t\t\t\t\turl: transitUrl + '&uid=' + this.uid + '&money=' + this.recharge\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ((this.type == 5 || this.type == 6) && this.recharge) {\n\t\t\t\t\t\t\t\tdata['params'] = {\n\t\t\t\t\t\t\t\t\torderId: this.orderId\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet res = await Api.apiCall('get',Api.order.webPay,params);\n\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\tconst data = res.data\n\t\t\t\t\t\t\t\tthis.checkWXJSBridge(data)\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\twindow.location.href = res.msg\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// 微信 H5支付\n\t\t\t\t\t\t\tif (this.type == 1 && this.orderId) {\n\t\t\t\t\t\t\t\tdata['params'] = {\n\t\t\t\t\t\t\t\t\ttrade_type: 'MWEB',\n\t\t\t\t\t\t\t\t\treturn_url: baseUrl +\n\t\t\t\t\t\t\t\t\t\t'wap/#/pages/order/payment/result'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (this.type == 2 && this.recharge) {\n\t\t\t\t\t\t\t\tdata['params'] = {\n\t\t\t\t\t\t\t\t\ttrade_type: 'MWEB',\n\t\t\t\t\t\t\t\t\tmoney: this.recharge,\n\t\t\t\t\t\t\t\t\treturn_url: baseUrl + 'wap/#/pages/order/payment/result'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ((this.type == 5 || this.type == 6) && this.recharge) {\n\t\t\t\t\t\t\t\tdata['params'] = {\n\t\t\t\t\t\t\t\t\torderId: this.orderId\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// 微信h5支付\n\t\t\t\t\t\t\tlet res = await Api.apiCall('get',Api.order.wapPay,params);\n\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\tif (res.code==0) {\n\t\t\t\t\t\t\t\t\tlocation.href = res.data\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthis.$common.errorToShow(res.msg)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'balancepay':\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t *  用户余额支付\n\t\t\t\t\t\t *\n\t\t\t\t\t\t */\n\t\t\t\t\t\tif ((this.type == 5 || this.type == 6) && this.recharge) {\n\t\t\t\t\t\t\tdata['params'] = {\n\t\t\t\t\t\t\t\torderId: this.orderId\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet params1 = {'orderId':this.orderId,code:code};\n\t\t\t\t\t\tlet data1 = await Api.apiCall('post',Api.payments.balancePay,params1);\n\t\t\t\t\t\tif (data1.code==0) {\n\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\turl: '/pages/order/payment/result?order=' + JSON.stringify(data1)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tthis.$api.msg(data1.msg);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'offline':\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * 线下支付\n\t\t\t\t\t\t */\n\t\t\t\t\t\tthis.$common.modelShow(\n\t\t\t\t\t\t\t'线下支付说明',\n\t\t\t\t\t\t\t'请联系客服进行线下支付qq:951449465',\n\t\t\t\t\t\t\t() => {},\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t'取消',\n\t\t\t\t\t\t\t'确定'\n\t\t\t\t\t\t)\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n","import mod from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./paymentsByWx.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./paymentsByWx.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}