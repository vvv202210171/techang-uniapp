(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19099290"],{1181:function(e,t,r){},"20c4":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("ToolBar",[r("div",[r("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"标题",size:"small",clearable:""},model:{value:e.searchParams.noticeTitle,callback:function(t){e.$set(e.searchParams,"noticeTitle",t)},expression:"searchParams.noticeTitle"}}),r("el-select",{staticStyle:{width:"140px"},attrs:{clearable:"",placeholder:"类型",size:"small"},model:{value:e.searchParams.noticeType,callback:function(t){e.$set(e.searchParams,"noticeType",t)},expression:"searchParams.noticeType"}},e._l(e.noticeTypeEnum,(function(e,t,n){return r("el-option",{key:n,attrs:{label:e,value:t}})})),1),r("el-date-picker",{attrs:{size:"small",type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.searchParams.dateRange,callback:function(t){e.$set(e.searchParams,"dateRange",t)},expression:"searchParams.dateRange"}}),r("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.refresh()}}},[e._v("查询")]),r("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(t){return e.clearSearchParams()}}},[e._v("重置")])],1),r("div",[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.add()}}},[e._v("添加")])],1)]),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","row-style":{height:"8px"},"cell-style":{padding:"0px 0px"}}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form",{attrs:{"label-position":"left"}},[r("el-form-item",{attrs:{label:"简介"}},[r("span",[e._v(e._s(t.row.noticeBrief))])]),r("el-form-item",{attrs:{label:"内容"}},[r("span",{domProps:{innerHTML:e._s(t.row.noticeContent)}})]),r("el-form-item",{attrs:{label:"备注"}},[r("span",[e._v(e._s(t.row.remark))])])],1)]}}])}),r("el-table-column",{attrs:{align:"center",prop:"noticeTitle",label:"标题",formatter:e.contentFormatter}}),r("el-table-column",{attrs:{align:"center",prop:"noticeType",label:"分类",formatter:e.formmaterNotice}}),r("el-table-column",{attrs:{align:"center",label:"图片"},scopedSlots:e._u([{key:"default",fn:function(e){return r("div",{},[r("el-image",{staticStyle:{width:"80px",height:"80px"},attrs:{src:e.row.noticePic,fit:"fill"}})],1)}}])}),r("el-table-column",{attrs:{align:"center",prop:"noticeStatus",label:"状态",formatter:e.formmaterNotice,width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return r("div",{},[r("el-select",{attrs:{placeholder:"请选择",size:"mini"},on:{change:function(r){return e.changeStatus(t.row)}},model:{value:t.row.noticeStatus,callback:function(r){e.$set(t.row,"noticeStatus",r)},expression:"s.row.noticeStatus"}},e._l(e.noticeStatusEnum,(function(e,t,n){return r("el-option",{key:n,attrs:{label:e,value:t}})})),1)],1)}}])}),r("el-table-column",{attrs:{align:"center",prop:"createBy",label:"创建人"}}),r("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间"}}),r("el-table-column",{attrs:{align:"center",prop:"updateBy",label:"修改人"}}),r("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"修改时间"}}),r("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return r("div",{},[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(r){return e.edit(t.row)}}},[e._v("编辑")]),r("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(r){return e.removeItem(t.row)}}},[e._v("删除")])],1)}}])})],1),r("Pagination",{ref:"pagination",attrs:{params:e.searchParams,requestFunc:e.getNoticeList},on:{returnData:e.returnData}}),r("NoticeEdit",{ref:"edit",attrs:{title:e.titie,showEditDialog:e.showEditDialog},on:{close:function(t){e.showEditDialog=!1},success:e.refresh}})],1)},i=[],a=(r("fb6a"),r("96cf"),r("1da1")),o=r("83c0"),s=r("c466"),c=r("cf45"),l=r("003d"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{width:e.dialogWidth,title:e.title,visible:e.showEditDialog,"show-close":!1,"close-on-click-modal":!1},on:{opened:e.openDialog,"update:visible":function(t){e.showEditDialog=t}}},[r("el-form",{ref:"editForms",staticClass:"edit-forms",attrs:{model:e.forms,rules:e.rules,"label-position":"left","label-width":e.labelWidth}},[r("el-form-item",{attrs:{label:"标题",prop:"noticeTitle"}},[r("el-input",{attrs:{placeholder:"标题"},model:{value:e.forms.noticeTitle,callback:function(t){e.$set(e.forms,"noticeTitle",t)},expression:"forms.noticeTitle"}})],1),r("el-form-item",{attrs:{label:"分类",prop:"noticeType"}},[r("el-select",{staticStyle:{width:"140px"},attrs:{clearable:"",placeholder:"类型",size:"small"},model:{value:e.forms.noticeType,callback:function(t){e.$set(e.forms,"noticeType",t)},expression:"forms.noticeType"}},e._l(e.noticeTypeEnum,(function(e,t,n){return r("el-option",{key:n,attrs:{label:e,value:1*t}})})),1)],1),r("el-form-item",{attrs:{label:"图片",prop:"noticePic"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"http-request":e.uploadImage}},[e.forms.noticePic?r("img",{staticClass:"avatar",attrs:{src:e.forms.noticePic}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",{attrs:{label:"简介"}},[r("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.forms.noticeBrief,callback:function(t){e.$set(e.forms,"noticeBrief",t)},expression:"forms.noticeBrief"}})],1),r("el-form-item",{staticStyle:{height:"250px"},attrs:{label:"内容"}},[r("quill-editor",{ref:"myQuillEditor",staticStyle:{height:"200px"},attrs:{options:e.editorOption},model:{value:e.forms.noticeContent,callback:function(t){e.$set(e.forms,"noticeContent",t)},expression:"forms.noticeContent"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){return e.$emit("close")}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确认")])],1)],1)],1)},f=[],m=r("b48b"),d=r("ceb8"),p=r("953d"),h=(r("a753"),r("8096"),r("14e1"),{components:{quillEditor:p["quillEditor"]},props:{title:{type:String,default:"编辑"},dialogWidth:{type:String,default:"800px"},labelWidth:{type:String,default:"60px"},showEditDialog:Boolean,editorOption:{}},data:function(){return{forms:{noticeType:1,noticeTitle:"",noticePic:"",noticeBrief:"",noticeContent:""},noticeTypeEnum:l["i"],noticeStatusEnum:l["h"],noticeTypes:[],rules:{noticePic:m["c"],noticeTitle:m["c"]}}},methods:{submit:function(){var e=this;this.$refs.editForms.validate((function(t){if(!t)return e.$message.error("请按照提示正确填写内容！"),!1;Object(o["d"])(e.forms).then((function(t){if(0==t.code)return e.$message.success("更新成功！"),void e.$emit("success");e.$message.error(t.msg)}))}))},uploadImage:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.upload(e);case 2:t.forms.noticePic=r.sent;case 3:case"end":return r.stop()}}),r)})))()},upload:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.beforeAvatarUpload(e.file)){r.next=2;break}return r.abrupt("return");case 2:return n=new FormData,n.set("file",e.file),r.next=6,Object(d["i"])(n);case 6:if(i=r.sent,0==i.code){r.next=10;break}return t.$message.error(i.msg),r.abrupt("return","");case 10:return console.log(i.data),r.abrupt("return",i.data);case 12:case"end":return r.stop()}}),r)})))()},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,r=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),r||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&r},openDialog:function(){},add:function(){this.forms={noticeType:1,noticeTitle:"",noticePic:"",noticeBrief:"",noticeContent:""}},update:function(e,t){this.$set(this.forms,"id",e),Object(c["a"])(this.forms,t)}}}),b=h,g=(r("5ef2"),r("2877")),v=Object(g["a"])(b,u,f,!1,null,null,null),y=v.exports,w={components:{NoticeEdit:y},data:function(){return{searchParams:{noticeTitle:"",noticeType:"",dateRange:[]},noticeTypeEnum:l["i"],noticeStatusEnum:l["h"],pickerOptions:Object(s["a"])(),getNoticeList:o["f"],titie:"添加",showEditDialog:!1,tableData:[]}},methods:{contentFormatter:function(e,t,r){return r.slice(0,20)},formmaterNotice:function(e,t,r){return this.noticeTypeEnum[r]},formmaterNoticeStatus:function(e,t,r){return this.noticeTypeEnum[r]},changeStatus:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(o["d"])(e);case 2:if(n=r.sent,0==n.code){r.next=6;break}return t.$message.error(n.msg),r.abrupt("return");case 6:case"end":return r.stop()}}),r)})))()},edit:function(e){this.titie="修改",this.showEditDialog=!0,this.$refs.edit.update(e.id,e)},add:function(){this.titie="添加",this.showEditDialog=!0,this.$refs.edit.add()},removeItem:function(e){var t=this;this.$confirm("此操作将永久删除该配置吗, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["b"])(e.id).then((function(e){if(0==e.code)return t.$message.success("删除成功!"),void t.refresh();t.$message.error(e.msg)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},clearSearchParams:function(){Object(c["e"])(this.searchParams),this.refresh()},returnData:function(e){this.tableData=e},refresh:function(){this.$refs.pagination.Refresh(),this.showEditDialog=!1}}},k=w,x=Object(g["a"])(k,n,i,!1,null,null,null);t["default"]=x.exports},"5ef2":function(e,t,r){"use strict";var n=r("1181"),i=r.n(n);i.a},"83c0":function(e,t,r){"use strict";r.d(t,"e",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"f",(function(){return s})),r.d(t,"d",(function(){return c})),r.d(t,"b",(function(){return l}));var n=r("b775");function i(e){return Object(n["a"])({url:"/apiadmin/config/findlist",method:"get",params:e})}function a(e){return Object(n["a"])({url:"/apiadmin/config/edit",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/apiadmin/config/delete/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/apiadmin/notice/findlist",method:"get",params:e})}function c(e){return Object(n["a"])({url:"/apiadmin/notice/edit",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/apiadmin/notice/delete",method:"get",params:{id:e}})}},fb6a:function(e,t,r){"use strict";var n=r("23e7"),i=r("861d"),a=r("e8b5"),o=r("23cb"),s=r("50c4"),c=r("fc6a"),l=r("8418"),u=r("b622"),f=r("1dde"),m=r("ae40"),d=f("slice"),p=m("slice",{ACCESSORS:!0,0:0,1:2}),h=u("species"),b=[].slice,g=Math.max;n({target:"Array",proto:!0,forced:!d||!p},{slice:function(e,t){var r,n,u,f=c(this),m=s(f.length),d=o(e,m),p=o(void 0===t?m:t,m);if(a(f)&&(r=f.constructor,"function"!=typeof r||r!==Array&&!a(r.prototype)?i(r)&&(r=r[h],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return b.call(f,d,p);for(n=new(void 0===r?Array:r)(g(p-d,0)),u=0;d<p;d++,u++)d in f&&l(n,u,f[d]);return n.length=u,n}})}}]);
//# sourceMappingURL=chunk-19099290.5777d959.js.map