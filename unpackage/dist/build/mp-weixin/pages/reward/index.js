(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/reward/index"],{1109:function(t,n,e){"use strict";(function(t){e("e160"),e("921b");i(e("66fd"));var n=i(e("9e6c"));function i(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},"406b":function(t,n,e){"use strict";var i=e("b172"),a=e.n(i);a.a},7906:function(t,n,e){"use strict";var i,a=function(){var t=this,n=t.$createElement;t._self._c},s=[];e.d(n,"b",function(){return a}),e.d(n,"c",function(){return s}),e.d(n,"a",function(){return i})},"9e6c":function(t,n,e){"use strict";e.r(n);var i=e("7906"),a=e("f38a");for(var s in a)"default"!==s&&function(t){e.d(n,t,function(){return a[t]})}(s);e("406b");var o,u=e("f0c5"),r=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"10ba1f04",null,!1,i["a"],o);n["default"]=r.exports},b172:function(t,n,e){},b63d:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={data:function(){return{awardsConfig:{chance:!0,lists:[]},awardsList:{},animationData:{},btnDisabled:"",thanksarr:[],chishu:0,mold:1,r_flg:0,myPrizelist:[]}},onLoad:function(){this.initdata(this)},onReady:function(t){},methods:{getmyPrize:function(){var t=this;t.requestFun("/api/Turntable/myPrize",{page:1,num:1e3},1).then(function(n){n.lists.forEach(function(n,e){n.createtime=t.dateformat(n.createtime)}),t.myPrizelist=n.lists,t.r_flg=1})},openshadow:function(){this.r_flg=1},closeshadow:function(){this.r_flg=0},choosetype:function(t){this.mold=t,this.initdata(this)},initdata:function(t){t.requestFun("/api/Turntable/integralLucky",{mold:t.mold},1).then(function(n){t.awardsConfig=n,t.chishu=n.luckdraw;t.awardsConfig.lists.length;for(var e=0;e<=6;e++)e%3==0&&(t.thanksarr.push(e),t.awardsConfig.lists.splice(e,0,{name:"谢谢参与",type:0}));t.awardsConfig.lists.forEach(function(t,n){t.index=n}),t.drawAwardRoundel()})},drawAwardRoundel:function(){for(var t=this.awardsConfig.lists,n=[],e=1/t.length*360,i=0;i<t.length;i++)n.push({turn:i*e+"deg",lineTurn:i*e+e/2+"deg",award:t[i].name,type:t[i].type,id:t[i].type});this.btnDisabled=this.chishu?"":"disabled",this.awardsList=n},playReward:function(){var n=this;0!=this.chishu?n.requestFun("/api/Turntable/winningPrize",{mold:n.mold},1).then(function(e){var i=3;n.awardsList.forEach(function(t,n){t.award==e.name&&(i=n)});var a=n.awardsConfig.lists,s=4,o=4e3;n.runDeg=n.runDeg||0;n.runDeg;n.runDeg=n.runDeg+(360-n.runDeg%360)+(360*s-i*(360/a.length))+1;var u=t.createAnimation({duration:o,timingFunction:"ease"});u.rotate(n.runDeg).step(),n.animationData=u.export(),n.btnDisabled="disabled";var r=n.awardsConfig,c=r.lists[i].type;n.chishu=n.chishu-1,0!=c?setTimeout(function(){t.showModal({title:"恭喜",content:"获得"+r.lists[i].name,showCancel:!1,success:function(){setTimeout(function(){document.getElementById("zhuanpano").style=""},1e3)}}),n.btnDisabled=""}.bind(n),o):setTimeout(function(){t.showModal({title:"很遗憾",content:"没中奖 "+r.lists[i].name,showCancel:!1,success:function(){setTimeout(function(){document.getElementById("zhuanpano").style=""},1e3)}}),n.btnDisabled=""}.bind(n),o)}):t.showToast({title:"抽奖次数已经用完",icon:"none"})}}};n.default=e}).call(this,e("543d")["default"])},f38a:function(t,n,e){"use strict";e.r(n);var i=e("b63d"),a=e.n(i);for(var s in i)"default"!==s&&function(t){e.d(n,t,function(){return i[t]})}(s);n["default"]=a.a}},[["1109","common/runtime","common/vendor"]]]);