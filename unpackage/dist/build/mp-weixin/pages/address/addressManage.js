(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/address/addressManage"],{"0c32":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("a34a")),n=(a("2f62"),i(a("660b")));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,a,r,n,i,s){try{var d=e[i](s),u=d.value}catch(c){return void a(c)}d.done?t(u):Promise.resolve(u).then(r,n)}function d(e){return function(){var t=this,a=arguments;return new Promise(function(r,n){var i=e.apply(t,a);function d(e){s(i,r,n,d,u,"next",e)}function u(e){s(i,r,n,d,u,"throw",e)}d(void 0)})}}var u=function(){return Promise.all([a.e("common/vendor"),a.e("components/mpvue-citypicker/mpvueCityPicker")]).then(a.bind(null,"8db4"))},c={components:{mpvueCityPicker:u},computed:{setDefault:function(){return 1==this.addressData.isDefault}},data:function(){return{defaule:!1,pickerText:"选择省/市/区",cityPickerValueDefault:[0,0,1],themeColor:"#007AFF",addressData:{receivePhone:"",receiveName:"",detailAddr:"",address:"",isDefault:0}}},onLoad:function(t){var a="新增收货地址";"edit"===t.type&&(a="编辑收货地址",this.addressData=JSON.parse(t.data),console.log(this.addressData),this.addressData.address=this.addressData.province+"-"+this.addressData.city+"-"+this.addressData.area),this.manageType=t.type,e.setNavigationBarTitle({title:a})},methods:{showMulLinkageThreePicker:function(){this.$refs.mpvueCityPicker.show()},changeAddr:function(e){this.addressData.address=e.label,this.$forceUpdate()},switchChange:function(e){console.log(e.detail),this.addressData.isDefault=e.detail.value?1:0},chooseLocation:function(){var t=this;e.chooseLocation({success:function(e){console.log(e),t.addressData.detailAddr=e.address,t.addressData.address=e.name}})},confirm:function(){var t=d(r.default.mark(function t(){var a,i;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=this.addressData,a.receiveName){t.next=4;break}return this.$api.msg("请填写收货人姓名"),t.abrupt("return");case 4:if(/(^1[3|4|5|7|8][0-9]{9}$)/.test(a.receivePhone)){t.next=7;break}return this.$api.msg("请输入正确的手机号码"),t.abrupt("return");case 7:if(a.address){t.next=10;break}return this.$api.msg("请选择地址"),t.abrupt("return");case 10:if(a.detailAddr){t.next=13;break}return this.$api.msg("请填写详细地址信息"),t.abrupt("return");case 13:return i="edit"==this.manageType?{id:a.id,address:a.address,isDefault:a.isDefault,detailAddr:a.detailAddr,receivePhone:a.receivePhone,receiveName:a.receiveName}:{address:a.address,isDefault:a.isDefault,detailAddr:a.detailAddr,receivePhone:a.receivePhone,receiveName:a.receiveName},t.next=16,n.default.apiCall("post",n.default.order.addressSave,i);case 16:a=t.sent,0===a.code?(this.$api.msg("地址".concat("edit"==this.manageType?"修改":"添加","成功")),setTimeout(function(){var t="/pages/address/address";e.navigateTo({url:t})},800)):this.$api.msg("地址".concat("edit"==this.manageType?"修改":"添加","失败"));case 18:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}()}};t.default=c}).call(this,a("543d")["default"])},"25e1":function(e,t,a){"use strict";var r,n=function(){var e=this,t=e.$createElement;e._self._c},i=[];a.d(t,"b",function(){return n}),a.d(t,"c",function(){return i}),a.d(t,"a",function(){return r})},2725:function(e,t,a){},3263:function(e,t,a){"use strict";a.r(t);var r=a("0c32"),n=a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);t["default"]=n.a},"474d":function(e,t,a){"use strict";var r=a("2725"),n=a.n(r);n.a},"4e9b":function(e,t,a){"use strict";a.r(t);var r=a("25e1"),n=a("3263");for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);a("474d");var s,d=a("f0c5"),u=Object(d["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],s);t["default"]=u.exports},bdc7:function(e,t,a){"use strict";(function(e){a("e160"),a("921b");r(a("66fd"));var t=r(a("4e9b"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("543d")["createPage"])}},[["bdc7","common/runtime","common/vendor"]]]);