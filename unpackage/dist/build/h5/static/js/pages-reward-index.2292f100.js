(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-reward-index"],{"1a7c":function(t,e,i){"use strict";var a=i("74f9"),n=i.n(a);n.a},"6bd2":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("774e"));i("ac6a");var o={data:function(){return{awardsConfig:{chance:!0,lists:[]},awardsList:{},animationData:{},btnDisabled:"",thanksarr:[],chishu:0,mold:1,r_flg:0,myPrizelist:[]}},onLoad:function(){this.initdata(this)},onReady:function(t){},methods:{getmyPrize:function(){var t=this;t.requestFun("/api/Turntable/myPrize",{page:1,num:1e3},1).then(function(e){e.lists.forEach(function(e,i){e.createtime=t.dateformat(e.createtime)}),t.myPrizelist=e.lists,t.r_flg=1})},openshadow:function(){this.r_flg=1},closeshadow:function(){this.r_flg=0},choosetype:function(t){this.mold=t,this.initdata(this)},initdata:function(t){t.requestFun("/api/Turntable/integralLucky",{mold:t.mold},1).then(function(e){t.awardsConfig=e,t.chishu=e.luckdraw;t.awardsConfig.lists.length;for(var i=0;i<=6;i++)i%3==0&&(t.thanksarr.push(i),t.awardsConfig.lists.splice(i,0,{name:"谢谢参与",type:0}));t.awardsConfig.lists.forEach(function(t,e){t.index=e}),t.drawAwardRoundel()})},drawAwardRoundel:function(){for(var t=this.awardsConfig.lists,e=[],i=1/t.length*360,a=0;a<t.length;a++)e.push({turn:a*i+"deg",lineTurn:a*i+i/2+"deg",award:t[a].name,type:t[a].type,id:t[a].type});this.btnDisabled=this.chishu?"":"disabled",this.awardsList=e},playReward:function(){var t=this;0!=this.chishu?t.requestFun("/api/Turntable/winningPrize",{mold:t.mold},1).then(function(e){var i=3;t.awardsList.forEach(function(t,a){t.award==e.name&&(i=a)});var a=t.awardsConfig.lists,o=4,s=4e3;t.runDeg=t.runDeg||0;var c=t.runDeg;t.runDeg=t.runDeg+(360-t.runDeg%360)+(360*o-i*(360/a.length))+1,document.getElementById("zhuanpano").style="animation:rotate_before 4s 0ms ease forwards;",document.styleSheets[0].cssRules.length>0&&(0,n.default)(document.styleSheets[0].cssRules).forEach(function(t,e){"rotate_before"==t.name&&document.styleSheets[0].deleteRule(e)}),document.styleSheets[0].insertRule("@keyframes rotate_before{from{ transform: rotate("+c+"deg); }to{ transform: rotate("+t.runDeg+"deg);}}",8),t.btnDisabled="disabled";var r=t.awardsConfig,l=r.lists[i].type;t.chishu=t.chishu-1,0!=l?setTimeout(function(){uni.showModal({title:"恭喜",content:"获得"+r.lists[i].name,showCancel:!1,success:function(){setTimeout(function(){document.getElementById("zhuanpano").style=""},1e3)}}),t.btnDisabled=""}.bind(t),s):setTimeout(function(){uni.showModal({title:"很遗憾",content:"没中奖 "+r.lists[i].name,showCancel:!1,success:function(){setTimeout(function(){document.getElementById("zhuanpano").style=""},1e3)}}),t.btnDisabled=""}.bind(t),s)}):uni.showToast({title:"抽奖次数已经用完",icon:"none"})}}};e.default=o},"74f9":function(t,e,i){var a=i("cb16");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("32b591ee",a,!0,{sourceMap:!1,shadowMode:!1})},"9e6c":function(t,e,i){"use strict";i.r(e);var a=i("ea88"),n=i("f38a");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("1a7c");var s,c=i("f0c5"),r=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"43ce2a60",null,!1,a["a"],s);e["default"]=r.exports},cb16:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'.conbox[data-v-43ce2a60]{width:%?750?%;height:100vh;overflow-x:hidden;overflow-y:scroll}.container[data-v-43ce2a60],uni-image.cont[data-v-43ce2a60]{width:%?750?%;min-height:100vh;height:auto;position:relative}uni-image.cont[data-v-43ce2a60]{height:100%;position:absolute;z-index:0}uni-image.caidai[data-v-43ce2a60]{position:absolute;top:0;left:0;width:%?750?%;height:%?1024?%}.header[data-v-43ce2a60]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;\n\t\t/* height: 246upx; */padding-top:%?48?%;padding-bottom:%?40?%;box-sizing:border-box;position:relative;z-index:3}.header-title[data-v-43ce2a60]{width:100%;height:%?60?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?48?%;box-sizing:border-box;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.header-title>uni-view[data-v-43ce2a60]{padding:%?8?% %?16?%;border:1px solid #d89720;color:#d89720;font-size:%?28?%;border-radius:%?26?%}\n\n\t/* 转盘 */.canvas-container[data-v-43ce2a60]{margin:0 auto;position:relative;width:%?600?%;height:%?600?%;background:url(/static/img/circle.png) no-repeat;background-size:cover;border-radius:50%}.canvas[data-v-43ce2a60]{width:100%;height:100%;display:block!important;border-radius:50%}.canvas-content[data-v-43ce2a60]{position:absolute;left:0;top:0;z-index:1;display:block;width:%?600?%;height:%?600?%;border-radius:inherit\n\t\t/* background-clip: padding-box; */\n\t\t/* background-color: #ffcb3f; */}.canvas-element[data-v-43ce2a60]{position:relative;z-index:1;width:inherit;height:inherit;border-radius:50%}.canvas-list[data-v-43ce2a60]{position:absolute;left:0;top:0;width:inherit;height:inherit;z-index:9999}.canvas-item[data-v-43ce2a60]{position:absolute;left:0;top:0;width:100%;height:100%;color:#e4370e\n\t\t/* text-shadow: 0 1upx 1upx rgba(255, 255, 255, 0.6); */}.canvas-item-text[data-v-43ce2a60]{position:relative;display:block;padding-top:%?46?%;margin:0 auto;text-align:center;-webkit-transform-origin:50% %?300?%;transform-origin:50% %?300?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#fb778b}.canvas-item-text uni-text[data-v-43ce2a60]{font-size:%?30?%}.canvas-item-text-img[data-v-43ce2a60]{width:%?50?%;height:%?50?%;padding-top:%?30?%}\n\n\t/* 分隔线 */.canvas-line[data-v-43ce2a60]{position:absolute;left:0;top:0;width:inherit;height:inherit;z-index:99}.canvas-litem[data-v-43ce2a60]{position:absolute;left:%?300?%;top:0;width:%?3?%;height:%?300?%;background-color:rgba(228,55,14,.4);overflow:hidden;-webkit-transform-origin:50% %?300?%;transform-origin:50% %?300?%}\n\n\t/**  \n* 抽奖按钮  \n*/.canvas-btn[data-v-43ce2a60]{position:absolute;left:%?260?%;top:%?260?%;z-index:400;width:%?80?%;height:%?80?%;border-radius:50%;color:#f4e9cc;background-color:#e44025;line-height:%?80?%;text-align:center;font-size:%?26?%;text-shadow:0 -1px 1px rgba(0,0,0,.6);box-shadow:0 3px 5px rgba(0,0,0,.6);text-decoration:none}.canvas-btn[data-v-43ce2a60]:after{position:absolute;display:block;content:" ";left:%?12?%;top:%?-44?%;width:0;height:0;overflow:hidden;border-width:%?30?%;border-style:solid;border-color:transparent;border-bottom-color:#e44025}.canvas-btn.disabled[data-v-43ce2a60]{pointer-events:none;background:#b07a7b;color:#ccc}.canvas-btn.disabled[data-v-43ce2a60]:after{border-bottom-color:#b07a7b}.canvas-btn-table[data-v-43ce2a60]{color:#a83fdb;width:%?120?%;text-align:center;position:absolute;left:%?240?%;top:%?360?%;font-size:%?26?%;background-color:#fff;opacity:.9}.typecheckbox[data-v-43ce2a60]{width:100%;position:relative;z-index:3;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?20?%;box-sizing:border-box;color:#fff;font-size:%?28?%;top:%?-120?%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;height:%?180?%;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end\n\t\t/* padding-top: 46upx; */}.typecheckbox uni-view[data-v-43ce2a60]{border:1px solid #ff3637;background:transparent;color:#ff3637;display:-webkit-box;display:-webkit-flex;display:flex;height:%?60?%;width:%?140?%;border-radius:%?50?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;display:flex;margin-left:%?20?%}.typecheckbox uni-view.active[data-v-43ce2a60]{background:#ff3637;color:#fff}.guize[data-v-43ce2a60]{width:%?502?%;min-height:%?300?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;position:relative;z-index:3;background-image:-webkit-linear-gradient(top,#f48549,#f2642e);background-image:linear-gradient(-180deg,#f48549,#f2642e);border:%?18?% solid #e4431a;border-radius:16px;margin:0 auto;margin-top:%?-104?%;padding:%?48?%;\n\t\t/* box-sizing: border-box; */color:#fff}.guize .title[data-v-43ce2a60]{text-align:center;margin-bottom:%?28?%}.guize .g_item[data-v-43ce2a60]{font-family:PingFang-SC-Medium;font-size:%?24?%;color:#fff;letter-spacing:.5px;text-align:justify;line-height:20px}.shadowbox[data-v-43ce2a60]{width:%?750?%;height:100vh;position:fixed;top:0;left:0;z-index:999;background:rgba(0,0,0,.6);display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.myrewards[data-v-43ce2a60]{width:%?600?%;min-height:%?80?%;background:#ffeedf;border:%?10?% solid #f2692f;color:#333;font-size:%?24?%;font-family:PingFang-SC-Medium;border-radius:%?40?%;padding-bottom:%?20?%}.myrewards .title[data-v-43ce2a60]{font-family:PingFang-SC-Bold;font-size:16px;color:#e4431a;letter-spacing:.57px;display:-webkit-box;display:-webkit-flex;display:flex;padding-top:%?36?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.myrewards .itembox[data-v-43ce2a60]{max-height:%?320?%;overflow-y:auto}.myrewards .item[data-v-43ce2a60]{width:100%;height:%?66?%;padding:0 %?32?%;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}',""])},ea88:function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"conbox"},[i("v-uni-view",{staticClass:"container"},[i("v-uni-image",{staticClass:"cont",attrs:{src:"/static/img/bg.png",mode:""}}),i("v-uni-image",{staticClass:"caidai",attrs:{src:"/static/img/caidai.png",mode:""}}),i("v-uni-view",{staticClass:"header"},[i("v-uni-view",{staticClass:"header-title"},[i("v-uni-view",{staticClass:"left"},[t._v("次数："),i("v-uni-text",{staticStyle:{color:"#E4431A"}},[t._v(t._s(t.chishu))])],1),i("v-uni-view",{staticClass:"right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getmyPrize.apply(void 0,arguments)}}},[t._v("我的奖品 >")])],1)],1),i("v-uni-view",{staticClass:"main"},[i("v-uni-view",{staticClass:"canvas-container"},[i("v-uni-view",{staticClass:"canvas-content",attrs:{animation:t.animationData,id:"zhuanpano"}},[i("v-uni-view",{staticClass:"canvas-line"},t._l(t.awardsList,function(t,e){return i("v-uni-view",{key:e,staticClass:"canvas-litem",style:[{transform:"rotate("+t.lineTurn+")"}]})}),1),i("v-uni-view",{staticClass:"canvas-list"},t._l(t.awardsList,function(e,a){return i("v-uni-view",{key:a,staticClass:"canvas-item",style:[{zIndex:a}]},[i("v-uni-view",{staticClass:"canvas-item-text",style:[{transform:"rotate("+e.turn+")"}]},[i("v-uni-text",[t._v(t._s(e.award))]),3==e.type?i("v-uni-image",{staticClass:"canvas-item-text-img",attrs:{src:"/static/img/xiaolian.png"}}):t._e(),2==e.type?i("v-uni-image",{staticClass:"canvas-item-text-img",attrs:{src:"/static/img/youhuiquan.png"}}):t._e(),1==e.type?i("v-uni-image",{staticClass:"canvas-item-text-img",attrs:{src:"/static/img/jingyan.png"}}):t._e(),0==e.type?i("v-uni-image",{staticClass:"canvas-item-text-img",attrs:{src:"/static/img/jifenimg.png"}}):t._e()],1)],1)}),1)],1),i("v-uni-view",{staticClass:"canvas-btn",class:t.btnDisabled,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.playReward.apply(void 0,arguments)}}},[t._v("开始")])],1)],1),i("v-uni-view",{staticClass:"typecheckbox"},[i("v-uni-view",{class:1==t.mold?"left active":"left",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.choosetype(1)}}},[t._v("幸运抽奖")]),i("v-uni-view",{class:2==t.mold?"left active":"left",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.choosetype(2)}}},[t._v("现金抽奖")])],1),i("v-uni-view",{staticClass:"guize"},[i("v-uni-view",{staticClass:"title"},[t._v("规则说明")]),i("v-uni-view",{staticClass:"g_item"},[t._v("1.用户每天登录即送1次抽奖机会，分享好友则多赠1次机会")]),i("v-uni-view",{staticClass:"g_item"},[t._v("2.用户点击大转盘抽奖按钮，有积分和现金两种方式可参与抽奖，没抽一次消耗1次抽奖机会")]),i("v-uni-view",{staticClass:"g_item"},[t._v("3.用户获得的奖品，可在我的道具里查看")])],1),t.r_flg?i("v-uni-view",{staticClass:"shadowbox",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeshadow.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"myrewards",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.openshadow.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"title"},[t._v("我的奖品")]),i("v-uni-view",{staticClass:"itembox"},t._l(t.myPrizelist,function(e,a){return i("v-uni-view",{key:a,staticClass:"item"},[i("v-uni-text",{staticClass:"left"},[t._v(t._s(e.name))]),i("v-uni-text",{staticClass:"right"},[t._v(t._s(e.createtime))])],1)}),1)],1)],1):t._e()],1)],1)},o=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return a})},f38a:function(t,e,i){"use strict";i.r(e);var a=i("6bd2"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a}}]);