(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/payments/paymentsByH5"],{"4e94":function(t,e,n){"use strict";var r=n("60de"),a=n.n(r);a.a},"60de":function(t,e,n){},7744:function(t,e,n){"use strict";n.r(e);var r=n("da8e"),a=n("d241");for(var u in a)"default"!==u&&function(t){n.d(e,t,function(){return a[t]})}(u);n("4e94");var i,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],i);e["default"]=c.exports},"9e46":function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("a34a")),u=(n("463d"),i(n("660b")));function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n,r,a,u,i){try{var o=t[u](i),c=o.value}catch(s){return void n(s)}o.done?e(c):Promise.resolve(c).then(r,a)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var u=t.apply(e,n);function i(t){o(u,r,a,i,c,"next",t)}function c(t){o(u,r,a,i,c,"throw",t)}i(void 0)})}}var s={props:{orderId:{type:String,default:function(){return""}},recharge:{type:Number,default:function(){return 0}},uid:{type:Number,default:function(){return 0}},type:{type:Number,default:function(){return 1}}},data:function(){return{payments:[],openid:""}},mounted:function(){this.getPayments()},methods:{getPayments:function(){var t=c(a.default.mark(function t(){var e;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={},t.next=3,u.default.apiCall("get",u.default.payments.paymentlist,e);case 3:this.orderInfo=t.sent,this.payments=this.formatPayments(this.orderInfo.data);case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),formatPayments:function(e){var n=this;return t("log",e," at components\\payments\\paymentsByH5.vue:68"),this.$common.isWeiXinBrowser()&&(e=e.filter(function(t){return"alipay"!==t.code})),2===this.type&&(e=e.filter(function(t){return"balancepay"!==t.code||1===t.is_online})),e.forEach(function(t){n.$set(t,"icon","/static/image/"+t.code+".png")}),e},aliH5:function(){var t=c(a.default.mark(function t(e){var n;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.default.apiCall("POST",u.default.payments.aliPay,e);case 2:n=t.sent,0==n.code&&(document.body,document.dody.append(n.data));case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),balancepay:function(){var t=c(a.default.mark(function t(){var e,n;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return 5!=this.type&&6!=this.type||!this.recharge||(data["params"]={orderId:this.orderId}),e={orderId:this.orderId,code:code},t.next=4,u.default.apiCall("post",u.default.payments.balancePay,e);case 4:n=t.sent,0==n.code?r.redirectTo({url:"/pages/order/payment/result?order="+JSON.stringify(n)}):this.$api.msg(n.msg);case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),toPayHandler:function(){var t=c(a.default.mark(function t(e){var n,r;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.code,r={orderId:this.orderId,code:e.code},t.t0=n,t.next="alipay"===t.t0?5:"wechatpay"===t.t0?7:"balancepay"===t.t0?8:"offline"===t.t0?10:12;break;case 5:return this.aliH5(r),t.abrupt("break",12);case 7:return t.abrupt("break",12);case 8:return this.balancepay(),t.abrupt("break",12);case 10:return this.$common.modelShow("线下支付说明","请联系客服进行线下支付qq:951449465",function(){},!1,"取消","确定"),t.abrupt("break",12);case 12:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}};e.default=s}).call(this,n("0de9")["default"],n("6e42")["default"])},d241:function(t,e,n){"use strict";n.r(e);var r=n("9e46"),a=n.n(r);for(var u in r)"default"!==u&&function(t){n.d(e,t,function(){return r[t]})}(u);e["default"]=a.a},da8e:function(t,e,n){"use strict";var r,a=function(){var t=this,e=t.$createElement;t._self._c},u=[];n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u}),n.d(e,"a",function(){return r})}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/payments/paymentsByH5-create-component',
    {
        'components/payments/paymentsByH5-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('6e42')['createComponent'](__webpack_require__("7744"))
        })
    },
    [['components/payments/paymentsByH5-create-component']]
]);
