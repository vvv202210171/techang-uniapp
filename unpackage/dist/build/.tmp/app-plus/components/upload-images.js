(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/upload-images"],{"1d59":function(t,e,n){"use strict";n.r(e);var i=n("4ab0"),a=n("c9e0");for(var u in a)"default"!==u&&function(t){n.d(e,t,function(){return a[t]})}(u);n("e425");var r,o=n("f0c5"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);e["default"]=s.exports},"2f11":function(t,e,n){},"4ab0":function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement;t._self._c},u=[];n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u}),n.d(e,"a",function(){return i})},c9e0:function(t,e,n){"use strict";n.r(e);var i=n("ebf7"),a=n.n(i);for(var u in i)"default"!==u&&function(t){n.d(e,t,function(){return i[t]})}(u);e["default"]=a.a},e425:function(t,e,n){"use strict";var i=n("2f11"),a=n.n(i);a.a},ebf7:function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=u(n("a34a"));function u(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i,a,u,r){try{var o=t[u](r),s=o.value}catch(c){return void n(c)}o.done?e(s):Promise.resolve(s).then(i,a)}function o(t){return function(){var e=this,n=arguments;return new Promise(function(i,a){var u=t.apply(e,n);function o(t){r(u,i,a,o,s,"next",t)}function s(t){r(u,i,a,o,s,"throw",t)}o(void 0)})}}var s={data:function(){return{length:10}},props:{imageList:{type:Array,default:function(){return[]}},url:{type:String,value:""},count:{type:Number,value:4}},computed:{rduLength:function(){return this.length-this.imageList.length}},methods:{chooseImage:function(){var e=this;t.chooseImage({count:this.rduLength<this.count?this.rduLength:this.count,sizeType:["original","compressed"],sourceType:["album"],success:function(t){var n=t.tempFilePaths;e.uploadFiles(n)}})},uploadFiles:function(){var e=o(a.default.mark(function e(n){var u;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.imageList.push({filePath:n[0],progress:0}),t.showLoading({title:"请稍后..",mask:!0}),e.prev=2,e.next=5,this.uploadImage(n[0]);case 5:u=e.sent,n.splice(0,1),this.imageList[this.imageList.length-1].src=u,n.length>0&&this.rduLength>0?this.uploadFiles(n):t.hideLoading(),e.next=18;break;case 11:return e.prev=11,e.t0=e["catch"](2),i("log",e.t0," at components\\upload-images.vue:82"),this.imageList.pop(),t.hideLoading(),t.showToast({title:"上传中出现问题，已终止上传",icon:"none",mask:!0,duration:2e3}),e.abrupt("return");case 18:case"end":return e.stop()}},e,this,[[2,11]])}));function n(t){return e.apply(this,arguments)}return n}(),uploadImage:function(e){var n=this;return new Promise(function(i,a){var u={thumb_mode:1};n.uploadTask=t.uploadFile({url:n.url,filePath:e,name:"file",formData:u,success:function(t){var e=JSON.parse(t.data)||{};0==e.code?i(e.data):a("接口返回错误")},fail:function(){a("网络链接错误")}}),n.uploadTask.onProgressUpdate(function(t){n.imageList[n.imageList.length-1].progress=t.progress})})},delImage:function(e){var n=this;t.showModal({content:"确定要放弃这张图片么？",success:function(t){t.confirm&&n.imageList.splice(e,1)}})},previewImage:function(e){var n=[];this.imageList.forEach(function(t){n.push(t.filePath)}),t.previewImage({current:n[e],urls:n,indicator:"number"})}}};e.default=s}).call(this,n("6e42")["default"],n("0de9")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/upload-images-create-component',
    {
        'components/upload-images-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('6e42')['createComponent'](__webpack_require__("1d59"))
        })
    },
    [['components/upload-images-create-component']]
]);
