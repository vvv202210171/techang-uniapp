(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/address/addressManage"],{"0c32":function(e,t,a){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("a34a")),n=(a("2f62"),i(a("660b")));function i(e){return e&&e.__esModule?e:{default:e}}function d(e,t,a,r,s,n,i){try{var d=e[n](i),u=d.value}catch(c){return void a(c)}d.done?t(u):Promise.resolve(u).then(r,s)}function u(e){return function(){var t=this,a=arguments;return new Promise(function(r,s){var n=e.apply(t,a);function i(e){d(n,r,s,i,u,"next",e)}function u(e){d(n,r,s,i,u,"throw",e)}i(void 0)})}}var c=function(){return Promise.all([a.e("common/vendor"),a.e("components/mpvue-citypicker/mpvueCityPicker")]).then(a.bind(null,"8db4"))},o={components:{mpvueCityPicker:c},computed:{setDefault:function(){return 1==this.addressData.isDefault}},data:function(){return{defaule:!1,pickerText:"选择省/市/区",cityPickerValueDefault:[0,0,1],themeColor:"#007AFF",addressData:{receivePhone:"",receiveName:"",detailAddr:"",address:"",isDefault:0}}},onLoad:function(t){var a="新增收货地址";"edit"===t.type&&(a="编辑收货地址",this.addressData=JSON.parse(t.data),e("log",this.addressData," at pages\\address\\addressManage.vue:65"),this.addressData.address=this.addressData.province+"-"+this.addressData.city+"-"+this.addressData.area),this.manageType=t.type,r.setNavigationBarTitle({title:a})},methods:{showMulLinkageThreePicker:function(){this.$refs.mpvueCityPicker.show()},changeAddr:function(e){this.addressData.address=e.label,this.$forceUpdate()},switchChange:function(t){e("log",t.detail," at pages\\address\\addressManage.vue:86"),this.addressData.isDefault=t.detail.value?1:0},chooseLocation:function(){var t=this;r.chooseLocation({success:function(a){e("log",a," at pages\\address\\addressManage.vue:94"),t.addressData.detailAddr=a.address,t.addressData.address=a.name}})},confirm:function(){var e=u(s.default.mark(function e(){var t,a;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.addressData,t.receiveName){e.next=4;break}return this.$api.msg("请填写收货人姓名"),e.abrupt("return");case 4:if(/(^1[3|4|5|7|8][0-9]{9}$)/.test(t.receivePhone)){e.next=7;break}return this.$api.msg("请输入正确的手机号码"),e.abrupt("return");case 7:if(t.address){e.next=10;break}return this.$api.msg("请选择地址"),e.abrupt("return");case 10:if(t.detailAddr){e.next=13;break}return this.$api.msg("请填写详细地址信息"),e.abrupt("return");case 13:return a="edit"==this.manageType?{id:t.id,address:t.address,isDefault:t.isDefault,detailAddr:t.detailAddr,receivePhone:t.receivePhone,receiveName:t.receiveName}:{address:t.address,isDefault:t.isDefault,detailAddr:t.detailAddr,receivePhone:t.receivePhone,receiveName:t.receiveName},e.next=16,n.default.apiCall("post",n.default.order.addressSave,a);case 16:t=e.sent,0===t.code?(this.$api.msg("地址".concat("edit"==this.manageType?"修改":"添加","成功")),setTimeout(function(){var e="/pages/address/address";r.navigateTo({url:e})},800)):this.$api.msg("地址".concat("edit"==this.manageType?"修改":"添加","失败"));case 18:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}};t.default=o}).call(this,a("0de9")["default"],a("6e42")["default"])},"25e1":function(e,t,a){"use strict";var r,s=function(){var e=this,t=e.$createElement;e._self._c},n=[];a.d(t,"b",function(){return s}),a.d(t,"c",function(){return n}),a.d(t,"a",function(){return r})},2725:function(e,t,a){},3263:function(e,t,a){"use strict";a.r(t);var r=a("0c32"),s=a.n(r);for(var n in r)"default"!==n&&function(e){a.d(t,e,function(){return r[e]})}(n);t["default"]=s.a},"474d":function(e,t,a){"use strict";var r=a("2725"),s=a.n(r);s.a},"4e9b":function(e,t,a){"use strict";a.r(t);var r=a("25e1"),s=a("3263");for(var n in s)"default"!==n&&function(e){a.d(t,e,function(){return s[e]})}(n);a("474d");var i,d=a("f0c5"),u=Object(d["a"])(s["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],i);t["default"]=u.exports},bdc7:function(e,t,a){"use strict";(function(e){a("e160"),a("921b");r(a("66fd"));var t=r(a("4e9b"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("6e42")["createPage"])}},[["bdc7","common/runtime","common/vendor"]]]);